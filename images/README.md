# 画像認識用ディレクトリ

このディレクトリには、楽天メール内でクリック対象となるリンクを識別するための画像を配置します。

## 使い方

1. クリックしたい対象の画像（ボタンやバナーなど）のスクリーンショットを撮影
2. PNG または JPEG 形式で保存
3. このディレクトリに配置

## ファイル命名規則

ファイル名は任意ですが、わかりやすい名前を推奨します。

例:
- `rakuten-point-button.png` - 楽天ポイント獲得ボタン
- `campaign-banner.png` - キャンペーンバナー
- `special-offer.jpg` - 特別オファー画像

## 対応フォーマット

- PNG (.png)
- JPEG (.jpg, .jpeg)

## 画像の取得方法

### 方法1: ブラウザのデベロッパーツールを使用

1. 楽天メールをブラウザで開く
2. F12 キーでデベロッパーツールを開く
3. Elements タブで対象の画像要素を選択
4. 右クリック → 「Open image in new tab」
5. 画像を右クリックして保存

### 方法2: スクリーンショットツールを使用

1. 楽天メールを開く
2. スクリーンショットツールでクリック対象の画像部分のみを切り取り
3. PNG形式で保存

## 注意事項

- 画像は正確にクリック対象の部分のみを含めるようにしてください
- 周囲の余白が多すぎるとマッチング精度が低下します
- 画像サイズが大きすぎる場合は、適切なサイズに調整してください（推奨: 幅500px以下）

## マッチング閾値の調整

`.env` ファイルで `IMAGE_MATCH_THRESHOLD` を設定することで、マッチング精度を調整できます。

- デフォルト: `0.8` (80%一致)
- 範囲: `0.0` ～ `1.0`
- 値が高いほど厳密にマッチング、低いほど緩くマッチング

## 例

```
images/
├── README.md
├── rakuten-super-point-button.png
├── rakuten-campaign-banner.png
└── special-offer-image.jpg
```

複数の画像を登録することで、様々なキャンペーンメールに対応できます。
